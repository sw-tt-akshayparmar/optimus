<div class="login w-full h-[80%] flex items-center justify-center">
  <form
    class="p-[32px] w-full max-w-[480px] border border-gray-500 rounded-lg"
    [formGroup]="regForm"
  >
    @if (this.regForm.touched && this.regForm.invalid) {
      <p-message severity="error" icon="pi pi-times-circle" styleClass="mb-2"
        >Validation(s) Failed
      </p-message>
    }
    <p-input-group class="my-4">
      <p-inputgroup-addon>
        <i class="pi pi-at"></i>
      </p-inputgroup-addon>
      <p-floatlabel variant="on">
        <input name="username" id="username" pInputText formControlName="username" type="text" />
        <label for="username">Enter Username*</label>
      </p-floatlabel>
    </p-input-group>
    @if (
      regForm.get('username')?.invalid &&
      (regForm.get('username')?.dirty || regForm.get('username')?.touched)
    ) {
      <p-message size="small" severity="error" variant="simple"
        >{{ this.getError('username') }}
      </p-message>
    }

    <p-input-group class="my-4">
      <p-inputgroup-addon>
        <i class="pi pi-user"></i>
      </p-inputgroup-addon>
      <p-floatlabel variant="on">
        <input name="name" id="name" pInputText formControlName="name" type="text" />
        <label for="name">Enter Name*</label>
      </p-floatlabel>
    </p-input-group>
    @if (
      regForm.get('name')?.invalid && (regForm.get('name')?.dirty || regForm.get('name')?.touched)
    ) {
      <p-message size="small" severity="error" variant="simple">{{
        this.getError('name')
      }}</p-message>
    }
    <p-input-group class="my-4">
      <p-inputgroup-addon>
        <i class="pi pi-lock"></i>
      </p-inputgroup-addon>
      <p-floatlabel variant="on">
        <input
          name="password"
          id="password"
          pInputText
          formControlName="password"
          type="password"
        />
        <label for="password">Enter Password*</label>
      </p-floatlabel>
    </p-input-group>
    @if (
      regForm.get('password')?.invalid &&
      (regForm.get('password')?.dirty || regForm.get('password')?.touched)
    ) {
      <p-message size="small" severity="error" variant="simple">{{
        this.getError('password')
      }}</p-message>
    }

    <p-input-group class="my-4">
      <p-inputgroup-addon>
        <i class="pi pi-lock"></i>
      </p-inputgroup-addon>
      <p-floatlabel variant="on">
        <input
          name="passwordCfm"
          id="passwordCfm"
          pInputText
          formControlName="passwordCfm"
          type="password"
        />
        <label for="passwordCfm">Confirm Password*</label>
      </p-floatlabel>
    </p-input-group>
    @if (
      (regForm.get('passwordCfm')?.invalid &&
        (regForm.get('passwordCfm')?.dirty || regForm.get('passwordCfm')?.touched)) ||
      regForm.hasError('passwordMismatch')
    ) {
      <p-message size="small" severity="error" variant="simple">{{
        this.getError('passwordCfm')
      }}</p-message>
    }

    <div class="flex flex-col w-full gap-2 mt-4">
      <p-button
        icon="pi pi-user-plus"
        [loading]="loaders.isLoading(LoaderActions.SIGN_IN)"
        type="submit"
        label="REGISTER"
        [rounded]="true"
        styleClass="w-full"
        (click)="onSubmit()"
      />

      <p-button
        [rounded]="true"
        icon="pi pi-user"
        [loading]="loaders.isLoading(LoaderActions.LOG_IN)"
        label="LOG IN"
        outlined
        type="button"
        styleClass="w-full"
        (click)="router.navigate(['login'])"
      />
    </div>

    <div class="w-full text-center my-2">OR</div>

    <div class="flex justify-center items-center w-full gap-1">
      <div class="google">
        <button type="button">
          <img
            class="w-[32px] h-[32px] rounded-full"
            ngSrc="/images/google.svg"
            alt="Google Login"
            [height]="32"
            [width]="32"
          />
        </button>
      </div>
      <div class="github">
        <button type="button">
          <img
            class="w-[32px] h-[32px] rounded-full"
            ngSrc="/images/github.svg"
            alt="GitHub Login"
            [height]="32"
            [width]="32"
          />
        </button>
      </div>
      <div class="microsoft">
        <button type="button">
          <img
            class="w-[32px] h-[32px] rounded-full"
            ngSrc="/images/microsoft.svg"
            alt="Microsoft Login"
            [height]="32"
            [width]="32"
          />
        </button>
      </div>
    </div>
  </form>
</div>
